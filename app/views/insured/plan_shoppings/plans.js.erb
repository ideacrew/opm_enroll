/* -- Remove below once UI Components Views are complete
$('#plans').html("<%= escape_javascript(render partial: "insured/plan_shoppings/plan_details", collection: @plans, as: :plan) %>")
*/
$('#plans').html("<%= escape_javascript(render partial: "ui-components/v1/cards/plan_details", collection: @plans, as: :plan) %>")

$(document).ready(function(){
  if ($('.aptc').length > 0){
    var elected_aptc = $("input#elected_aptc").val();
    var max_aptc = $("input#max_aptc").val();
    if (max_aptc == "" || parseFloat(max_aptc) == 0){
      elected_pct = 1;
    } else {
      elected_pct = parseFloat(elected_aptc) / parseFloat(max_aptc);
    }
    if (parseFloat($("input[name='elected_pct']").val()) != elected_pct || $("output[name='pct']").text() != elected_pct*100){
      $("output[name='pct']").text((elected_pct*100).toFixed(0));
      $("input[name='elected_pct']").val(elected_pct);
      updatePlanCost(elected_aptc);
    };
  }
});
$('[data-toggle="tooltip"]').tooltip();
